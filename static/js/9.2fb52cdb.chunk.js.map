{"version":3,"file":"static/js/9.2fb52cdb.chunk.js","mappings":"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","sources":["webpack://movies_app/./src/components/ChangeFormButton/ChangeFormButton.module.css?54d5","components/ChangeFormButton/ChangeFormButton.jsx","hooks/useSignUp.jsx","hooks/useAuth.jsx","webpack://movies_app/./src/components/SignUpForm/SignUpForm.module.css?655f","components/SignUpForm/SignUpForm.jsx","hooks/useSignIn.jsx","components/SignInForm/SignInForm.jsx","webpack://movies_app/./src/components/containers/SignInPage/SignInPage.module.css?b596","components/containers/SignInPage/SignInPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"ChangeFormButton_btn__+QK3d\",\"btn__left\":\"ChangeFormButton_btn__left__P-5ME\",\"btn__right\":\"ChangeFormButton_btn__right__Q1f06\",\"btn__active\":\"ChangeFormButton_btn__active__R4sgw\"};","import cn from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ChangeFormButton.module.css';\r\n\r\nexport const ChangeFormButton = ({ text, onClick, active }) => {\r\n  return (\r\n    <button\r\n      type='button'\r\n      className={cn(s.btn, { [s.btn__active]: active })}\r\n      onClick={onClick}>\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nChangeFormButton.propTypes = {\r\n  text: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n  active: PropTypes.bool,\r\n};\r\n","import { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { addUser } from '../store/usersSlice';\r\nimport { correctAuthorization } from '../store/authorizationSlice';\r\nimport { setLogUpErrors } from '../store/authorizationSlice';\r\nimport { useSearchGoal } from './useSearchGoal';\r\n\r\nexport const useSignUp = (username, email, password) => {\r\n  const users = useSelector((store) => store.users.users);\r\n  const dispatch = useDispatch();\r\n  const { resetSearchGoal } = useSearchGoal();\r\n\r\n  const isNotUnique = () => {\r\n    return users.some(\r\n      (user) => user.username === username || user.email === email\r\n    );\r\n  };\r\n\r\n  return (e) => {\r\n    e.preventDefault();\r\n\r\n    if (users.length === 0 || !isNotUnique()) {\r\n      dispatch(correctAuthorization(username));\r\n      dispatch(\r\n        addUser({\r\n          username,\r\n          email,\r\n          password,\r\n        })\r\n      );\r\n      resetSearchGoal();\r\n    } else {\r\n      dispatch(\r\n        setLogUpErrors({\r\n          isWrong: true,\r\n          wrongValue: 'This name or email is already registered',\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\n","import { useState } from 'react';\r\n\r\nexport const useAuth = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const changeUsername = (e) => setUsername(String(e.target.value).trim());\r\n  const changeEmail = (e) => setEmail(String(e.target.value).trim());\r\n  const changePassword = (e) => setPassword(String(e.target.value).trim());\r\n\r\n  return {\r\n    username,\r\n    changeUsername,\r\n    email,\r\n    changeEmail,\r\n    password,\r\n    changePassword,\r\n  };\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SignUpForm_form__xz79d\",\"fieldset\":\"SignUpForm_fieldset__kLszR\",\"input\":\"SignUpForm_input__lQhOm\",\"label\":\"SignUpForm_label__rqNlo\",\"btn__submit\":\"SignUpForm_btn__submit__zK-Au\",\"warning_title\":\"SignUpForm_warning_title__XeRqj\"};","import { useSelector } from 'react-redux';\r\n\r\nimport { useSignUp } from '../../hooks/useSignUp';\r\nimport { useAuth } from '../../hooks/useAuth';\r\n\r\nimport s from './SignUpForm.module.css';\r\n\r\nexport const SignUpForm = () => {\r\n  const logUpErrors = useSelector((store) => store.authorization.invalidLogUp);\r\n\r\n  const {\r\n    username,\r\n    changeUsername,\r\n    email,\r\n    changeEmail,\r\n    password,\r\n    changePassword,\r\n  } = useAuth();\r\n\r\n  const onSubmit = useSignUp(username, email, password);\r\n\r\n  return (\r\n    <form className={s.form} onSubmit={onSubmit}>\r\n      <fieldset className={s.fieldset}>\r\n        <label className={s.label} htmlFor='name'>\r\n          Your name:\r\n        </label>\r\n        <input\r\n          className={s.input}\r\n          type='text'\r\n          id='name'\r\n          placeholder='name'\r\n          autoFocus\r\n          required\r\n          value={username}\r\n          onChange={changeUsername}\r\n          minLength='3'\r\n          maxLength='10'\r\n        />\r\n\r\n        <label className={s.label} htmlFor='email'>\r\n          Your email:\r\n        </label>\r\n        <input\r\n          className={s.input}\r\n          type='email'\r\n          id='email'\r\n          placeholder='email@gmail.com'\r\n          required\r\n          value={email}\r\n          onChange={changeEmail}\r\n        />\r\n\r\n        <label className={s.label} htmlFor='password'>\r\n          Your password:\r\n        </label>\r\n        <input\r\n          className={s.input}\r\n          type='password'\r\n          id='password'\r\n          placeholder='password'\r\n          required\r\n          value={password}\r\n          onChange={changePassword}\r\n          minLength='5'\r\n          maxLength='10'\r\n        />\r\n        <button className={s.btn__submit}>Sign Up</button>\r\n\r\n        {logUpErrors.isWrong && (\r\n          <p className={s.warning_title}>{logUpErrors.wrongValue}</p>\r\n        )}\r\n      </fieldset>\r\n    </form>\r\n  );\r\n};\r\n","import { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { correctAuthorization } from '../store/authorizationSlice';\r\nimport { setLogInErrors } from '../store/authorizationSlice';\r\nimport { useSearchGoal } from './useSearchGoal';\r\n\r\nexport const useSignIn = (usernameOrEmail, password) => {\r\n  const dispatch = useDispatch();\r\n  const users = useSelector((store) => store.users.users);\r\n  const { resetSearchGoal } = useSearchGoal();\r\n\r\n  const checkUser = () => {\r\n    return users.find((user) => {\r\n      return (\r\n        user.username === usernameOrEmail || user.email === usernameOrEmail\r\n      );\r\n    });\r\n  };\r\n\r\n  return (e) => {\r\n    e.preventDefault();\r\n    const testRes = checkUser();\r\n\r\n    if (!testRes) {\r\n      dispatch(\r\n        setLogInErrors({\r\n          isWrong: true,\r\n          wrongValue: 'There is no such username or email',\r\n        })\r\n      );\r\n    } else if (testRes.password === password) {\r\n      dispatch(correctAuthorization(testRes.username));\r\n      resetSearchGoal();\r\n    } else {\r\n      dispatch(\r\n        setLogInErrors({\r\n          isWrong: true,\r\n          wrongValue: 'Incorrect password',\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\n","import { useSelector } from 'react-redux';\r\n\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useSignIn } from '../../hooks/useSignIn';\r\n\r\nimport s from '../SignUpForm/SignUpForm.module.css';\r\n\r\nexport const SignInForm = () => {\r\n  const loginErrors = useSelector((store) => store.authorization.invalidLogIn);\r\n\r\n  const {\r\n    username: usernameOrEmail,\r\n    changeUsername,\r\n    password,\r\n    changePassword,\r\n  } = useAuth();\r\n\r\n  const onSubmit = useSignIn(usernameOrEmail, password);\r\n\r\n  return (\r\n    <form className={s.form} onSubmit={onSubmit}>\r\n      <fieldset className={s.fieldset}>\r\n        <label className={s.label} htmlFor='name'>\r\n          Your name or email:\r\n        </label>\r\n        <input\r\n          className={s.input}\r\n          type='text'\r\n          id='name'\r\n          placeholder='name or email'\r\n          autoFocus\r\n          required\r\n          value={usernameOrEmail}\r\n          onChange={changeUsername}\r\n          minLength='3'\r\n          maxLength='10'\r\n        />\r\n\r\n        <label className={s.label} htmlFor='password'>\r\n          Your password:\r\n        </label>\r\n        <input\r\n          className={s.input}\r\n          type='password'\r\n          id='password'\r\n          placeholder='password'\r\n          required\r\n          value={password}\r\n          onChange={changePassword}\r\n          minLength='5'\r\n          maxLength='10'\r\n        />\r\n\r\n        <button className={s.btn__submit}>Sign In</button>\r\n\r\n        {loginErrors.isWrong && (\r\n          <p className={s.warning_title}>{loginErrors.wrongValue}</p>\r\n        )}\r\n      </fieldset>\r\n    </form>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"SignInPage_main__f5gEs\",\"main__light\":\"SignInPage_main__light__dP98H\",\"container\":\"SignInPage_container__vofol\",\"title\":\"SignInPage_title__1bmaM\",\"form\":\"SignInPage_form__AhgTC\",\"fieldset\":\"SignInPage_fieldset__bgCuG\",\"input\":\"SignInPage_input__HIuqi\",\"label\":\"SignInPage_label__OeqOt\",\"btn__submit\":\"SignInPage_btn__submit__oOTiF\"};","import { useSelector } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport cn from 'classnames';\r\n\r\nimport { useTheme } from '../../../hooks/useTheme';\r\nimport { ChangeFormButton } from '../../ChangeFormButton/ChangeFormButton';\r\nimport { SignUpForm } from '../../SignUpForm/SignUpForm';\r\nimport { SignInForm } from '../../SignInForm/SignInForm';\r\n\r\nimport s from './SignInPage.module.css';\r\n\r\nconst SignInPage = () => {\r\n  const { isLight } = useTheme();\r\n  const [isSignUp, changeCurrentForm] = useState(true);\r\n  const isAuth = useSelector((store) => store.authorization.currentUser.isAuth);\r\n\r\n  const toggleForms = () => changeCurrentForm(!isSignUp);\r\n\r\n  const currentForm = isSignUp ? <SignUpForm /> : <SignInForm />;\r\n\r\n  if (isAuth) {\r\n    return <Navigate to='/' />;\r\n  }\r\n\r\n  return (\r\n    <main className={cn(s.main, { [s.main__light]: isLight })}>\r\n      <section className={s.container}>\r\n        <ChangeFormButton\r\n          text='Sign Up'\r\n          onClick={toggleForms}\r\n          active={isSignUp}\r\n        />\r\n        <ChangeFormButton\r\n          text='Sign In'\r\n          onClick={toggleForms}\r\n          active={!isSignUp}\r\n        />\r\n        <h1 className={s.title}>\r\n          Enter the necessary data to {isSignUp ? 'register' : 'sign in'}\r\n        </h1>\r\n        {currentForm}\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default SignInPage;\r\n"],"names":["ChangeFormButton","_ref","text","onClick","active","_jsx","type","className","cn","s","_defineProperty","children","useSignUp","username","email","password","users","useSelector","store","dispatch","useDispatch","resetSearchGoal","useSearchGoal","e","preventDefault","length","some","user","setLogUpErrors","isWrong","wrongValue","correctAuthorization","addUser","useAuth","_useState","useState","_useState2","_slicedToArray","setUsername","_useState3","_useState4","setEmail","_useState5","_useState6","setPassword","changeUsername","String","target","value","trim","changeEmail","changePassword","SignUpForm","logUpErrors","authorization","invalidLogUp","_useAuth","onSubmit","_jsxs","htmlFor","id","placeholder","autoFocus","required","onChange","minLength","maxLength","useSignIn","usernameOrEmail","testRes","find","setLogInErrors","SignInForm","loginErrors","invalidLogIn","isLight","useTheme","isSignUp","changeCurrentForm","isAuth","currentUser","toggleForms","currentForm","Navigate","to"],"sourceRoot":""}